{% extends "root.html" %}
{% load static %}
{% load i18n %}
{% block content %}
{% load crispy_forms_tags %}

<div class="container-fluide my-5 px4 text-center">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 my-3 p-2">
      <h1 class="dark-blue">Tell us about your beloved writer</h1>
      <hr class="h-divider">
      <p class="dark-blue">Thoughts brought to life by authors make it worth reading about them</p>     
    </div>
  </div>
</div>

<!-- Here is the form -->
<div class="container my-5 px-4 text-center">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 my-3 p-2">
      <h3 class="dark-blue">Adding Author Details</h3>
      <hr class="h-divider my-4">
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-12 col-md-5 p-3 mb-2">
      <div class="p-1">
        {% if user.is_authenticated %}
        <!-- for to add a book-->
        <form action="" method=POST enctype="multipart/form-data" id="author-form">
          {% csrf_token %}
          {{ authorForm | crispy }}
          <button type="submit" value="Submit" class="btn btn-primary">Submit</button>
        </form>
        {% else %}
        <div class="container sign-in-up" >
          <div class="row justify-content-center">
            <h4>Sign in or Sign up to add your book</h4>
            <div class="col my-5">
              <h5>Already have an account then Sign in</h5>
              <br>
              <a href="{% url 'account_login' %}"><button type="button" class="btn btn-primary btn-lg">Sign
                  in</button></a>
            </div>
          </div>
          <div class="row justify-content-center">
            <div class="col my-5">
              <h5>Or Sign up for new account</h5>
              <br>
              <a href="{% url 'account_signup' %} "><button type="button" class="btn btn-primary btn-lg btn-add">Sign
                  up</button></a>
            </div>
          </div>
        </div>
        {% endif %}

      </div>
    </div>
    <div class="col-12 col-md-5 p-3 mb-2">
      <div class="section-img-container">
        <img src="{% static 'images/radu-marcusu-books-with-lady-before.jpg' %}" class="scale" alt="">
      </div>
    </div>
  </div>
</div>
<!-- Adding confirmation model -->
<div class="modal fade" id="addingModal" tabindex="-1"
aria-labelledby="addingModalLabel" aria-hidden="true">
<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title"
        id="addingModalLabel">Delete Review?</h5>
       <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
      {{ book.title }} has been added successfully added.
    </div>
    <div class="modal-footer justify-content-center">
      <button type="button" class="btn btn-secondary"
        data-bs-dismiss="modal">Close</button>
      <a id="addingConfirm" href="#" class="btn btn-success">OK</a>
    </div>
  </div>
</div>
</div>

{% endblock %}